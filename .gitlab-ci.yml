stages:
    - test

test:
    stage: test
    image: golang:latest
    tags:
        - test
    script:
        - go fmt $(go list ./... | grep -v /vendor/)
        - go vet $(go list ./... | grep -v /vendor/)
        - go test -race $(go list ./... | grep -v /vendor/)
